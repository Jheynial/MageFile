<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Rede Social de Saúde</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            flex-direction: column;
        }
        body {
    margin: 10px;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    overflow: auto;
    background: linear-gradient(315deg, rgba(101,0,94,1) 3%, rgba(60,132,206,1) 38%, rgba(48,238,226,1) 68%, rgba(255,25,25,1) 98%);
    animation: gradient 15s ease infinite;
    background-size: 400% 400%;
    background-attachment: fixed;
}

@keyframes gradient {
    0% {
        background-position: 0% 0%;
    }
    50% {
        background-position: 100% 100%;
    }
    100% {
        background-position: 0% 0%;
    }
}

.wave {
    background: rgb(255 255 255 / 25%);
    border-radius: 1000% 1000% 0 0;
    position: fixed;
    width: 200%;
    height: 12em;
    animation: wave 10s -3s linear infinite;
    transform: translate3d(0, 0, 0);
    opacity: 0.8;
    bottom: 0;
    left: 0;
    z-index: -1;
}

.wave:nth-of-type(2) {
    bottom: -1.25em;
    animation: wave 18s linear reverse infinite;
    opacity: 0.8;
}

.wave:nth-of-type(3) {
    bottom: -2.5em;
    animation: wave 20s -1s reverse infinite;
    opacity: 0.9;
}

@keyframes wave {
    2% {
        transform: translateX(1);
    }

    25% {
        transform: translateX(-25%);
    }

    50% {
        transform: translateX(-50%);
    }

    75% {
        transform: translateX(-25%);
    }

    100% {
        transform: translateX(1);
    }
}
        .container {
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
            width: 90%;
            max-width: 400px;
            margin: 10px;
            text-align: center;
        }
        header img {
            width: 150px;
            animation: logo-glow 2s infinite alternate;
        }
        @keyframes logo-glow {
            0% {
                filter: drop-shadow(0 0 10px #4caf50);
            }
            100% {
                filter: drop-shadow(0 0 20px #4caf50);
            }
        }
        h1 {
            color: #ffffff;
        }
        form {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin: 10px 0 5px;
            text-align: left;
            color: #cccccc;
        }
        input {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #333;
            border-radius: 5px;
            background-color: #333;
            color: #ffffff;
            transition: box-shadow 0.3s ease;
        }
        input:focus {
            box-shadow: 0 0 10px #4caf50;
        }
        .button {
            padding: 10px 15px;
            border: none;
            background-color: #4caf50;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        .button:hover {
            background-color: #45a049;
            box-shadow: 0 0 10px #45a049;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container" id="loginContainer">
        <header>
            <img src="https://mage.rj.gov.br/wp-content/uploads/2021/04/logo-nova-transparente.png" alt="Logo da Prefeitura de Magé" class="logo">
            <h1 id="formTitle">Login</h1>
        </header>

        <form id="loginForm" autocomplete="off">
            <label for="loginEmail">Email:</label>
            <input type="email" id="loginEmail" name="loginEmail" required>

            <label for="loginSenha">Senha:</label>
            <input type="password" id="loginSenha" name="loginSenha" required>

            <button type="submit" class="button">Entrar</button>
        </form>

        <form id="cadastroForm" autocomplete="off" class="hidden">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required placeholder="Ex: João">

            <label for="sobrenome">Sobrenome:</label>
            <input type="text" id="sobrenome" name="sobrenome" required placeholder="Ex: Silva">

            <label for="cpf">CPF:</label>
            <input type="text" id="cpf" name="cpf" required pattern="\d{11}" title="Digite 11 números" placeholder="Ex: 12345678901">

            <label for="emailCadastro">Email:</label>
            <input type="email" id="emailCadastro" name="email" required placeholder="Ex: exemplo@dominio.com">

            <label for="telefone">Telefone:</label>
            <input type="tel" id="telefone" name="telefone" required pattern="\d{10,11}" title="Digite 10 ou 11 números" placeholder="Ex: 21987654321">

            <label for="sus">Número do SUS:</label>
            <input type="text" id="sus" name="sus" required pattern="\d{15}" title="Digite 15 números" placeholder="Ex: 123456789012345">

            <label for="senhaCadastro">Senha:</label>
            <input type="password" id="senhaCadastro" name="senha" required placeholder="Mínimo de 8 caracteres">

            <button type="submit" class="button">Cadastrar</button>
        </form>

        <button class="button" id="toggleButton">Não tem uma conta? Cadastre-se</button>
    </div>

    <script>
        const toggleButton = document.getElementById('toggleButton');
        const loginForm = document.getElementById('loginForm');
        const cadastroForm = document.getElementById('cadastroForm');
        const usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];

        toggleButton.addEventListener('click', () => {
            loginForm.classList.toggle('hidden');
            cadastroForm.classList.toggle('hidden');
            toggleButton.textContent = loginForm.classList.contains('hidden') ? 'Já tem uma conta? Faça login' : 'Não tem uma conta? Cadastre-se';
            document.getElementById('formTitle').textContent = loginForm.classList.contains('hidden') ? 'Cadastro' : 'Login';
        });

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = loginForm.loginEmail.value;
            const senha = loginForm.loginSenha.value;
            const usuario = usuarios.find(u => u.email === email && u.senha === senha);
            if (usuario) {
                localStorage.setItem('usuarioAtual', JSON.stringify(usuario));
                window.location.href = 'perfil.html';
            } else {
                alert('Email ou senha incorretos!');
            }
        });

        cadastroForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const nome = cadastroForm.nome.value;
            const sobrenome = cadastroForm.sobrenome.value;
            const cpf = cadastroForm.cpf.value;
            const email = cadastroForm.emailCadastro.value;
            const telefone = cadastroForm.telefone.value;
            const sus = cadastroForm.sus.value;
            const senha = cadastroForm.senhaCadastro.value;
            const emailExiste = usuarios.some(u => u.email === email);
            if (emailExiste) {
                alert('Email já cadastrado!');
                return;
            }
            const usuario = { nome, sobrenome, cpf, email, telefone, sus, senha };
            usuarios.push(usuario);
            localStorage.setItem('usuarios', JSON.stringify(usuarios));
            alert('Cadastro realizado com sucesso!');
            toggleButton.click();
        });
    </script>
</body>
</html>
